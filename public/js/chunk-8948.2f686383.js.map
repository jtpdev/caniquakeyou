{"version":3,"sources":["webpack:///./src/components/Login.vue?cccb","webpack:///./src/services/login.js","webpack:///src/components/Login.vue","webpack:///./src/components/Login.vue?3819","webpack:///./src/components/Login.vue","webpack:///./src/components/Login.vue?8a54"],"names":["render","_vm","this","_h","$createElement","_c","_self","authKey","_e","domProps","textContent","_s","error","directives","name","rawName","value","expression","attrs","type","placeholder","on","input","$event","target","composing","username","password","click","login","_v","logout","staticRenderFns","login_LoginService","LoginService","resource","Object","classCallCheck","_resource","credentials","save","then","res","json","err","Error","Loginvue_type_script_lang_js_","created","service","$resource","data","methods","localStorage","$router","go","_this","user","setItem","setTimeout","components_Loginvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_id_441c7640_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"qHAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAJ,EAAAM,UAAmwBN,EAAAO,KAAnwBH,EAAA,OAAAH,KAAA,MAAAG,EAAA,OAAAA,EAAA,QAA8EI,UAAUC,YAAAT,EAAAU,GAAAT,KAAAU,YAAkCX,EAAAO,KAAAH,EAAA,SAAyBQ,aAAaC,KAAA,QAAAC,QAAA,UAAAC,MAAAf,EAAA,SAAAgB,WAAA,aAA0EC,OAASC,KAAA,OAAAC,YAAA,mBAA8CX,UAAWO,MAAAf,EAAA,UAAuBoB,IAAKC,MAAA,SAAAC,GAAyBA,EAAAC,OAAAC,YAAsCxB,EAAAyB,SAAAH,EAAAC,OAAAR,WAAmCX,EAAA,SAAcQ,aAAaC,KAAA,QAAAC,QAAA,UAAAC,MAAAf,EAAA,SAAAgB,WAAA,aAA0EC,OAASC,KAAA,WAAAC,YAAA,SAAwCX,UAAWO,MAAAf,EAAA,UAAuBoB,IAAKC,MAAA,SAAAC,GAAyBA,EAAAC,OAAAC,YAAsCxB,EAAA0B,SAAAJ,EAAAC,OAAAR,WAAmCX,EAAA,UAAegB,IAAIO,MAAA,SAAAL,GAAyBtB,EAAA4B,YAAc5B,EAAA6B,GAAA,aAAA7B,EAAAM,UAAAF,EAAA,OAAAA,EAAA,UAAsEgB,IAAIO,MAAA,SAAAL,GAAyBtB,EAAA8B,aAAe9B,EAAA6B,GAAA,cAAA7B,EAAAO,QAC98BwB,6DCDqBC,aAEjB,SAAAC,EAAYC,GAAUC,OAAAC,EAAA,KAAAD,CAAAlC,KAAAgC,GAClBhC,KAAKoC,UAAYH,EAAS,wGAGxBI,GACF,OAAOrC,KAAKoC,UACPE,KAAKD,GACLE,KAAK,SAAAC,GACF,OAAOA,EAAIC,QACZ,SAAAC,GACC,MAAM,IAAIC,MAAM,gCCOhCC,GACAC,QADA,WAEA7C,KAAA8C,QAAA,IAAAf,EAAA/B,KAAA+C,YAEAC,KAJA,WAKA,OACAxB,SAAA,GACAC,SAAA,GACAf,MAAA,KAGAuC,SACA5C,QADA,WAEA,OAAA6C,aAAA7C,SAEAwB,OAJA,WAKAqB,aAAA7C,QAAA,GACAL,KAAAmD,QAAAC,GAAA,MAEAzB,MARA,WAQA,IAAA0B,EAAArD,KACAwB,EAAAxB,KAAAwB,SACAC,EAAAzB,KAAAyB,SACAY,GACAzB,KAAAY,EACAC,YAEAzB,KAAA8C,QAAAnB,MAAAU,GAAAE,KAAA,SAAAe,GACAA,GACAJ,aAAAK,QAAA,UAAAD,EAAAjD,SACAgD,EAAAF,QAAAC,GAAA,OAEAC,EAAA3C,MAAA,6BACA8C,WAAA,kBAAAH,EAAA3C,MAAA,eCnDyQ+C,EAAA,0BCQzQC,EAAAxB,OAAAyB,EAAA,KAAAzB,CACAuB,EACA3D,EACAgC,GACA,EACA,KACA,WACA,MAIA4B,EAAAE,QAAAC,OAAA,YACAC,EAAA,WAAAJ,wECpBihBK,EAAA","file":"js/chunk-8948.2f686383.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.authKey())?_c('div',[(this.error)?_c('div',[_c('span',{domProps:{\"textContent\":_vm._s(this.error)}})]):_vm._e(),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.username),expression:\"username\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Nome de usuário\"},domProps:{\"value\":(_vm.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.username=$event.target.value}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],attrs:{\"type\":\"password\",\"placeholder\":\"Senha\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}}),_c('button',{on:{\"click\":function($event){_vm.login()}}},[_vm._v(\"Login\")])]):_vm._e(),(_vm.authKey())?_c('div',[_c('button',{on:{\"click\":function($event){_vm.logout()}}},[_vm._v(\"Logout\")])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default class LoginService {\n\n    constructor(resource) {\n        this._resource = resource('https://seuprojeto.cloudfunctions.net/api/login');\n    }\n\n    login(credentials) {\n        return this._resource\n            .save(credentials)\n            .then(res => {\n                return res.json();\n            }, err => {\n                throw new Error('Problema ocorrido');\n            });\n    }\n\n\n}","<template>\n    <div>\n        <div v-if=\"!authKey()\">\n            <div v-if=\"this.error\">\n                <span v-text=\"this.error\"/>\n            </div>\n            <input type=\"text\" placeholder=\"Nome de usuário\" v-model=\"username\">\n            <input type=\"password\" placeholder=\"Senha\" v-model=\"password\">\n            <button @click=\"login()\">Login</button>\n        </div>\n        <div v-if=\"authKey()\">\n            <button @click=\"logout()\">Logout</button>\n        </div>\n    </div>\n</template>\n\n<script>\nimport LoginService from \"../services/login\";\n\nexport default {\n  created() {\n    this.service = new LoginService(this.$resource);\n  },\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      error: \"\"\n    };\n  },\n  methods: {\n    authKey() {\n      return localStorage.authKey;\n    },\n    logout() {\n      localStorage.authKey = \"\";\n      this.$router.go(\"/\");\n    },\n    login() {\n      let username = this.username;\n      let password = this.password;\n      let credentials = {\n        name: username,\n        password\n      };\n      this.service.login(credentials).then(user => {\n        if (user) {\n          localStorage.setItem(\"authKey\", user.authKey);\n          this.$router.go(\"/\");\n        } else {\n          this.error = \"Login ou senha incorretos!\";\n          setTimeout(() => (this.error = \"\"), 5000);\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=441c7640&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=441c7640&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"441c7640\",\n  null\n  \n)\n\ncomponent.options.__file = \"Login.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=441c7640&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=441c7640&lang=scss&scoped=true&\""],"sourceRoot":""}